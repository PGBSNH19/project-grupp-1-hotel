@page "/booking"

@if (ConfirmedBooking == null)
{
    <CheckinForm EventCallback="GetRoom" AvailableRoom="AvailabilityRequest" />
    <div class="show-date" style="display:@showDate">
        <h4>Check In: @AvailabilityRequest.CheckInDate.ToString("yyyy/MM/dd")</h4>
        <h4>Check Out: @AvailabilityRequest.CheckOutDate.ToString("yyyy/MM/dd")</h4>
    </div>

    if (AppState.Rooms != null)
    {
       <div class="lead pb-4">
            <ul class="list-group">
                @foreach (var room in AppState.Rooms)
                 {
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <div class="form-check">
                            <input type="radio" name="technology" id="@room" value="@room" @onchange="@(() => RadioSelection(room.RoomInfo))" />
                            <label class="form-check-label" for="flexRadioDefault1">
                                @room.RoomType
                            </label>
                        </div>
                    </li>
                 }
            </ul>
       </div>
                    
        <div class="pt-4">
            <CustomerForm OnValidSubmit="@CreateBooking"></CustomerForm>
        </div>
    }
    else
    {
        <p>For us to show you available rooms, please tell us how many you are and what dates you intend to stay.</p>
    }
 }
 else
 {
    <ConfirmationPage ConfirmedBooking="@ConfirmedBooking"></ConfirmationPage>
 }
